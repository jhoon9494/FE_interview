# 자바스크립트 이벤트

## 이벤트 핸들러를 등록하는 방식에는 어떤 것들이 있나요?

1. 이벤트 핸들러 어트리뷰트 방식  
   HTML의 어트리뷰트 중 `onclick`과 같은 이벤트 핸들러 어트리뷰트에 **함수 호출문**을 작성하여 등록한다.  
   이벤트 핸들러 어트리뷰트의 값으로 함수 참조가 아닌 함수 호출문을 넣는 것에 주의해야한다.

```javascript
<button onclick="sayHi('Lee')">Click</button>
```

2. 이벤트 핸들러 프로퍼티 방식  
   window 객체, Document, HTMLElement 타입의 DOM 노드 객체는 이벤트에 대응하는 이벤트 핸들러 프로퍼티가 있다.  
   이벤트 핸들러 프로퍼티에 함수를 바인딩하여 이벤트 핸들러를 등록한다.  
   이벤트 핸들러를 하나만 등록할 수 있다는 단점이 있다.

```javascript
// html
<button>Click</button>;

// script
const button = document.querySelector('button');

button.onclick = function () {
  console.log('button clicked!');
};
```

3. addEventListener 메소드 방식  
   EventTarget.prototype.addEventListener 메소드를 사용하여 이벤트 핸들러를 등록할 수 있다.  
   addEventListener 메소드의 첫번째 매개변수에는 이벤트 종류를 나타내는 문자열을 입력한다.  
   두번째 매개변수에 이벤트 핸들러를 입력한다.  
   마지막 매개변수에는 이벤트 전파 방식에 대하여 `boolean` 값을 전달한다.  
   마지막 값을 생략하거나 `false`로 설정한다면 버블링 단계에서 이벤트를 캐치한다.  
   `true`로 설정한다면 캡처링 단계에서 이벤트를 캐치한다.  
   이벤트 핸들러 프로퍼티 방식과 달리 하나 이상의 이벤트 핸들러를 등록할 수 있다.  
   단, 동일한 참조 값을 가지는 이벤트 핸들러가 중복 등록된 경우 한 번만 실행된다.

```javascript
// html
<button>Click</button>;

// script
const button = document.querySelector('button');

button.addEventListener('click', function () {
  console.log('button clicked!');
});
```

## 이벤트 전파(propagation)에 대해서 알고 있나요?

DOM 트리 상에 존재하는 DOM 요소 노드에서 발생한 이벤트는 DOM 트리를 통해서 전파되며, 이를 이벤트 전파라고 한다.  
이벤트 전파는 3단계에 걸쳐 진행된다.

1. 캡쳐링 단계 : 상위 요소에서 하위 요소로 전파
2. 타깃 단계 : 이벤트가 대상(타깃)에 도달
3. 버블링 단계 : 하위 요소에서 상위 요소로 전파

기본적으로 브라우저는 타깃 단계와 버블링 단계에서 이벤트를 캐치한다.  
`addEventListener` 메소드를 사용한다면 마지막 매개변수를 설정하여 캡처링 단계에서도 이벤트를 캐치할 수 있다.  
이벤트는 위의 단계를 걸쳐서 전파되기 때문에 이벤트를 발생시킨 이벤트 타깃 뿐만 아니라 상위 요소에서도 캐치할 수 있다. 이런 현상을 활용한 것이 이벤트 위임이다.

## 이벤트 위임(delegation)에 대해서 알고있나요?

여러 자식 요소에 각각 공통된 이벤트 핸들러를 바인딩하는 것이 아니라, 부모 요소에 이벤트 핸들러를 바인딩하는 것을 의미한다.  
이벤트 위임을 사용하면 이벤트 핸들러를 바인딩하는 코드의 중복을 피할 수 있다.  
그리고 동적으로 자식 요소가 추가되더라도, 추가된 요소에 이벤트 핸들러를 등록할 필요가 없다.

## e.preventDefault 에 대해 알고 있나요?

이벤트 핸들러가 등록된 대상 태그의 기본 동작을 막는 메소드이다.  
`a` 태그를 클릭 시 링크로 이동하는 동작이나, `form` 이 제출될 때 페이지가 새로고침 되는 동작 등을 막을 수 있다.

## e.stopPropagation

이벤트 전파를 중지시키는 메소드이다.  
버블링 단계에서 자식 요소에 해당 메소드를 적용시킨다면, 자식 요소에 이벤트가 발생했을 때 부모 요소로 이벤트가 전파되는 것을 막을 수 있다.  
캡처링 단계에서 부모 요소에 해당 메소드를 적용시킨다면, 자식 요소에 이벤트가 발생하더라도 자식 요소로 이벤트가 전파되지 않는다.
