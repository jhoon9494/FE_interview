# React virtualDOM

## virtualDOM이란 무엇인가요?

브라우저 상의 실제 DOM과 유사한 트리 구조를 갖지만, 실제 DOM에 직접 접근하는 대신 메모리에 가상으로 존재하는 DOM이다.

리액트는 컴포넌트의 상태나 프로퍼티가 변경되었을 때 virtualDOM을 업데이트한다.

그리고 virtualDOM을 바탕으로 리액트는 변경이 필요한 부분만 실제 DOM에 업데이트하므로, 업데이트 비용을 최소화할 수 있다.

<br/>

## virtualDOM을 사용하는 이유는 무엇인가요?

virtualDOM은 실제 DOM 조작을 최소화하여 성능을 향상시키기 위해 사용한다.

실제 DOM을 조작하면 요소가 변화할 때마다 리플로우와 리페인팅이 발생하기 때문에 많은 비용이 들며, 이 과정이 누적될 경우 브라우저의 성능이 떨어지고 사용자 경험도 저하될 수 있다.

그러나 virtualDOM을 사용한다면 리플로우와 리페인팅을 줄일 수 있고, 효율적인 렌더링으로 인해 UI를 빠르게 업데이트하여 사용자 경험을 향상시킬 수 있다.

리액트는 이전과 현재의 virtualDOM 트리를 비교하여 변경된 부분을 찾아내고, 변경된 부분만 실제 DOM에 업데이트하여 불필요한 리플로우와 리페인팅을 방지할 수 있다.

<br />

## 리플로우와 리페인팅

리플로우(Reflow)란 브라우저가 레이아웃을 다시 계산하고, 그리는 과정이다.

즉, HTML과 CSS의 변경으로 인해 브라우저가 해당 변경사항을 계산하여 레이아웃을 새로 그리는 것을 의미한다.

리플로우는 브라우저의 성능에 영향을 주며, 자주 발생한다면 브라우저 성능이 악화되어 사용자 경험이 저하될 수 있다.

리페인팅(Repainting)은 레이아웃을 다시 계산하는 것이 아니라, 변경된 스타일만 다시 그리는 것이다.

예를 들어 배경 색상이 변경된 경우에 해당하는 요소만 리페인팅이 발생하며, 리플로우보다는 성능적으로 덜 부담스러운 과정이다.

<br />

### 참고자료

https://velopert.com/3236

https://callmedevmomo.medium.com/virtual-dom-react-%ED%95%B5%EC%8B%AC%EC%A0%95%EB%A6%AC-bfbfcecc4fbb
