# 배열과 key prop

## key prop?

`key` prop이란 리액트에서 배열을 렌더링할 때 각 요소를 구별하기 위해 사용되는 값이다.

```javascript
import React, { useState } from 'react';

function TodoList() {
  const [todos, setTodos] = useState([
    { id: 1, text: '청소하기' },
    { id: 2, text: '분리수거하기' },
    { id: 3, text: '공부하기' },
  ]);

  return (
    <ul>
      {todos.map((todo) => (
        // 배열을 렌더링할 때는 key prop이 필요하다!
        <li key={todo.id}>{todo.text}</li>
      ))}
    </ul>
  );
}
```

`key`는 한 배열 내에서 고유한 값이어야 하며, 리액트가 배열의 변경 사항을 식별하고 효율적으로 업데이트하기 위해 필요하다.

> 한 배열 내에서 `key`는 고유한 값이어야 하지만, 다른 배열에는 동일한 `key`를 사용해도 무관하다.

렌더링 중에 생성된 `key`는 이전과 다른 값이 될 가능성이 크므로, `key` prop은 가능한 미리 고유한 값을 지정하는 것이 좋다.

만약 이전과 현재의 `key`가 다를 경우 리액트는 해당 요소를 새로운 요소로 인식하여 모든 구성요소와 DOM을 매번 다시 생성하며 이로 인해 성능 문제가 발생할 수 있다.

<br />

## 배열의 index를 key로 사용하면 어떤 일이 발생하나요?

배열에 데이터를 추가하거나 삭제할 때 `key`로 사용된 `index`가 변경될 수 있으며, 이전과 현재의 `key`가 다를 경우, 리액트는 이를 새로운 요소로 인식하여 리렌더링을 진행한다.

이로 인해 불필요한 리렌더링이 발생할 수 있고, 성능이 저하될 수 있다.

index가 아닌 고유한 값을 `key`로 사용해야만 배열의 순서 변경 여부와 관계 없이 `key` 값에 따라 효율적으로 리렌더링 할 수 있다.
